{% extends 'base.html' %}
{% block title %}Home - TokoBola{% endblock title %}

{% block content %}
<div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 bg-white p-4 rounded-lg shadow">
    <div class="mb-4 sm:mb-0">
        <h5 class="text-xl font-semibold">Selamat Datang, {{ name }}!</h5>
        <p class="text-sm text-gray-500">NPM: {{ npm }} | Kelas: {{ class }}</p>
        <p class="text-sm text-gray-500">Login terakhir: {{ last_login }}</p>
    </div>
    <div class="flex space-x-2">
        <a href="{% url 'main:create_product' %}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-300 text-center">
            + Add Product
        </a>
    </div>
</div>

<hr class="my-6">

{% if not product_list %}
<div class="text-center p-12 bg-white rounded-lg shadow">
    <p class="text-gray-600 text-lg">Belum ada produk pada TokoBola.</p>
</div>
{% else %}
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for product in product_list %}
    <div class="bg-white rounded-lg shadow-md overflow-hidden transform hover:-translate-y-1 transition-transform duration-300">
        {% if product.thumbnail %}
        <img src="{{ product.thumbnail.url }}" alt="thumbnail" class="w-full h-48 object-cover">
        {% endif %}
        <div class="p-4">
            <h2 class="text-xl font-bold mb-2"><a href="{% url 'main:show_product' product.id %}" class="text-gray-800 hover:text-blue-600">{{ product.title }}</a></h2>
            
            <div class="text-xs text-gray-600 mb-2">
                <span class="font-semibold">{{ product.get_category_display }}</span> |
                <span>{{ product.created_at|date:"d M Y" }}</span>
            </div>

            <p class="text-gray-700 text-sm mb-4">{{ product.content|truncatewords:20 }}</p>
            
            <a href="{% url 'main:show_product' product.id %}" class="inline-block bg-gray-200 hover:bg-gray-300 text-gray-800 text-sm font-semibold py-2 px-4 rounded">Read More</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}

{% endblock %}